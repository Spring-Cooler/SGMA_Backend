<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.springcooler.sgma.studygroup.query.repository.StudyGroupMapper">
    <resultMap id="studyGroupResultMap" type="com.springcooler.sgma.studygroup.query.dto.StudyGroupDTO">
        <id property="groupId" column="GROUP_ID"/>
        <result property="groupName" column="GROUP_NAME"/>
        <result property="activeStatus" column="ACTIVE_STATUS"/>
        <result property="groupMembers" column="GROUP_MEMBERS"/>
        <result property="userId" column="USER_ID"/>
        <result property="studyGroupCategoryId" column="STUDY_GROUP_CATEGORY_ID"/>
    </resultMap>
    <select id="findAllStudyGroupsByActiveStatus" resultMap="studyGroupResultMap" parameterType="string">
        SELECT
               A.GROUP_ID
             , A.GROUP_NAME
             , A.ACTIVE_STATUS
             , A.GROUP_MEMBERS
             , A.USER_ID
             , A.STUDY_GROUP_CATEGORY_ID
          FROM STUDY_GROUP A
         WHERE A.ACTIVE_STATUS = #{ activeStatus }
    </select>
</mapper>